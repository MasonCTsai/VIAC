<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="static/unitIntro.css">
    <title>Unit 2</title>
    {% if session['role'] == 'student' %}
    <script>
        // every second, the page makes a request to the server for the current unit
        // if the current unit is not the current page, switch to it
        setInterval(() => {
            var result = null;
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "/getunit", false);
            xmlhttp.send();
            if (xmlhttp.status==200) {
                result = xmlhttp.responseText;
                console.log(result);
                if (result !='2.0') {
                    window.location.href = result;
                }
            }
        }, 1000)
    </script>
    {% endif %}
</head>
<body>
    <div id="gradientbackground"></div>
    <div id="starbackground"></div>
    <div class="center">
        <p id="helloText">Hello,</p>
        <p class="unitText">Welcome to Unit 2, </p>
        <p class="unitText" id="description">And Beyond</p>
    </div>
    {% if session['role'] == 'teacher' %}
    <div id="navbuttons">
        <button id="back">Back</button>
        <!-- <button id="next">Next</button> -->
    </div>
    <script>
        // when each button is clicked, go to the designated page, only visible to the teacher
        document.getElementById("back").addEventListener("click", (e) => {
            e.preventDefault();
            window.location.href = "1.2";
        })
        document.getElementById("next").addEventListener("click", (e) => {
            e.preventDefault();
            window.location.href = "0.0";
        })
    </script>
    {% endif %}
</body>
</html>